---
active: true
handoff_path: "~/.claude/handoffs/handoff-vscode-bootty-feature-webview-terminal-list.md"
task_description: null
files_changed: []
review_count: 3
max_review_cycles: 10
review_history: [{"cycle":1,"decision":"REJECT","issues":[{"id":1,"severity":"major","description":"Per-terminal MutationObserver and ResizeObserver are created but never disconnected on terminal removal, so closed terminals keep observers/DOM alive and continue firing callbacks over long sessions (`src/webview/panel-main.ts:485`, `src/webview/panel-main.ts:538`, `src/webview/panel-main.ts:751`)."},{"id":2,"severity":"major","description":"Clicking a grouped terminal always clears focus and triggers selection even when the group is already visible, violating the spec’s “no effect” rule and causing keyboard focus loss (`src/webview/terminal-list.ts:385`, `src/webview/terminal-list.ts:429`)."},{"id":3,"severity":"minor","description":"Right-clicking an unselected item mutates selection, despite the spec stating the context menu should not change selection/focus (`src/webview/terminal-list.ts:521`)."},{"id":4,"severity":"minor","description":"ContextMenu.destroy() uses new bound handlers when removing listeners, so the original document listeners remain attached if the menu is recreated (`src/webview/context-menu.ts:48`, `src/webview/context-menu.ts:417`)."}],"resolved":[],"notes":"Review based on diff/spec inspection; tests not run."},{"cycle":2,"decision":"REJECT","issues":[{"id":5,"severity":"major","description":"After multi-select, the “group already visible” guard uses selectedTerminalIds, so clicking a grouped terminal that is selected but not currently visible is ignored; selection never switches to that group, breaking normal click behavior after multi-select (`src/webview/terminal-list.ts:392`, `src/webview/terminal-list.ts:433`)."}],"resolved":[{"id":1,"verification":"Verified per-terminal observers now disconnect in removeTerminal (`src/webview/panel-main.ts:760`)."},{"id":2,"verification":"Verified grouped-terminal click no-op when group already visible is implemented (`src/webview/terminal-list.ts:429`)."},{"id":3,"verification":"Verified contextmenu handler no longer mutates selection (`src/webview/terminal-list.ts:536`)."},{"id":4,"verification":"Verified ContextMenu stores/removes bound outside-click handler (`src/webview/context-menu.ts:53`, `src/webview/context-menu.ts:420`)."}],"notes":"Using typescript-best-practices to review TS changes. Status: reviewed `git diff v0.2.2...HEAD` and inspected key files. Tests not run (not requested)."},{"cycle":3,"decision":"REJECT","issues":[{"id":6,"severity":"major","description":"Within-group drag reorder updates only `group.terminals` and persists without updating `terminalOrder`, so the persisted order is stale; after reload the UI renders group order from groups but shift-click range selection uses `state.items` order, producing incorrect ranges for reordered groups (`src/terminal-manager.ts:1129`, `src/terminal-manager.ts:1528`, `src/webview/terminal-list.ts:421`)."}],"resolved":[{"id":5,"verification":"Verified the group-visibility guard now keys off the active terminal (not the selected set), so clicking a selected-but-not-visible grouped terminal switches groups as expected (`src/webview/terminal-list.ts:446`)."}],"notes":"Reviewed diff since v0.2.2 and inspected key files; tests not run."}]
timestamp: "2026-01-11T23:40:51Z"
debug: false
---

# Codex Review Gate

This file tracks an active Codex review gate.

Do not edit this file manually. Use `/codex-reviewer:cancel` to abort.
